<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,600,900" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<title>Archive Mag</title>
</head>
<body>

<header>
<div><a href="#"><h2 style="font-size:12px; letter-spacing:0;"><span style="font-size:20px; vertical-align:middle;">&#x1F56E; </span><span style="vertical-align:middle;">archive</span><span style="vertical-align:middle">mag</span></h2></a></div>
<div class="menu-icon">&#9776;</div>
<nav>
<a href="#" onclick="closeMenu()">Home</a>
<a href="https://github.com/geographyclub/factbook" target="_blank">Github Readme</a>
<a href="https://geographyclub.github.io/" target="_blank">Steven Kim</a>
<!--<a href="#" onclick="scrollToSection('Brunei');">Brunei</a>-->
</nav>
</header>

<div class="border-container"><div class="color-block"></div><div class="color-block"></div><div class="color-block"></div></div>

<div class="flex-container">
    <div class="flex-column" style="text-align:center;"><h3 class="text-background-gray" style="font-size:8px; font-weight:600;">FEATURE</h3><h1>Edmonton in 1941</h1><hr><h2>A photo essay</h2></div>
   
    <div class="flex-column"><div class="image-container"><img class="image" src="img/UAA-1972-058-571_1920x1080.png"></div><div class="text-overlay-bottom-left"><p>Doris Danner, javelin throw, October 1941</p></div></div>
</div>


<script>
// Fetch the JSON file
function fetchData() {

var jsonFileUrl = 'https://raw.githubusercontent.com/geographyclub/archive-mag/main/json/archive_1990_images.json';

fetch(jsonFileUrl)
  .then(response => response.json())
  .then(jsonData => {
    const docs = jsonData.response.docs;

    // Get a random index
    const randomIndex = Math.floor(Math.random() * docs.length);

    // Get a random item
    const randomItem = docs[randomIndex];

    // Accessing the identifier of the random item
    const identifierValue = randomItem.identifier;

    // Construct the archive.org details URL
    const archiveOrgUrl = 'https://archive.org/download/' + identifierValue;

    // Log the archive.org details URL
    console.log("Archive.org Details URL:", archiveOrgUrl);

    // Fetch the webpage using the identifier in the URL
    return fetch(archiveOrgUrl);
  })
  .then(webpageResponse => {
    if (webpageResponse.ok) {
      // Handle the successful response
      return webpageResponse.text();
    } else {
      throw new Error(`Failed to fetch webpage. Status: ${webpageResponse.status}`);
    }
  })
  .then(webpageHtml => {
    // Process the HTML content of the webpage
    console.log("Webpage HTML:", webpageHtml);

    // You can perform further processing on the HTML content here
  })
  .catch(error => {
    console.error("Error:", error);
  });

} <!-- end fetch function -->
fetchData();


</script>

<!-- close menu -->
<script>
document.querySelector('.menu-icon').addEventListener('click', function () {
document.querySelector('nav').classList.toggle('show');
});
function closeMenu() {
document.querySelector('nav').classList.remove('show');
}
</script>

<!-- scroll to section with offset -->
<script>
function scrollToSection(sectionId) {
const targetSection = document.getElementById(sectionId);
const offset = 50;

if (targetSection) {
window.scrollTo({
top: targetSection.offsetTop - offset,
behavior: 'smooth'
});
}
event.preventDefault();
closeMenu();
}
</script>

</body>
</html>
